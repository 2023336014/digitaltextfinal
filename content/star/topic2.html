<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë³„ í—¤ëŠ” ë°¤ - í™”ìì˜ ì •ì„œ íŒŒì•…</title>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; padding: 30px; line-height: 1.6; color: #333; background-color: #f7f9fc; }
        .activity-box { max-width: 800px; margin: 0 auto; background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
        h1 { color: #1e88e5; border-bottom: 2px solid #bbdefb; padding-bottom: 10px; margin-bottom: 20px; font-size: 1.8em; text-align: center; }
        h2 { color: #43a047; font-size: 1.3em; margin-top: 25px; border-left: 4px solid #43a047; padding-left: 10px; }
        
        /* ì¶”ê°€ëœ ì„¤ëª… ìŠ¤íƒ€ì¼ */
        .instruction-box {
            background-color: #fffde7;
            padding: 20px;
            border-radius: 8px;
            border: 1px dashed #fdd835;
            margin-bottom: 25px;
            text-align: left;
        }
        .instruction-box ol { padding-left: 20px; }
        .instruction-box li { margin-bottom: 10px; }
        /* --- */

        /* í™œë™ ì˜ì—­ */
        .stanza-item { 
            border: 1px solid #eee; 
            padding: 15px; 
            margin-bottom: 15px; 
            border-radius: 6px; 
            background-color: #fcfcfc;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .stanza-item pre { white-space: pre-wrap; margin: 0; font-family: inherit; font-size: 0.95em; line-height: 1.4; }
        .emotion-select { 
            margin-left: 20px; 
            flex-shrink: 0; 
            width: 150px; 
            padding: 8px; 
            border-radius: 4px; 
        }
        
        /* ë°”ì½”ë“œ ì¶œë ¥ ì˜ì—­ */
        #barcodeDisplay {
            margin-top: 30px;
            height: 80px;
            border: 2px solid #333;
            border-radius: 6px;
            display: flex;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            font-size: 0.9em;
            text-align: center;
        }
        .barcode-segment {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            text-shadow: 0 0 3px black;
        }
        
        .action-area { text-align: center; margin-top: 20px; }
        .action-area button { 
            padding: 10px 20px; 
            background-color: #1e88e5; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            font-weight: bold; 
            transition: background-color 0.2s;
        }
        .action-area button:hover { background-color: #1565c0; }
        
        #reflection { margin-top: 30px; border-top: 1px dashed #ccc; padding-top: 20px; }
    </style>
</head>
<body>

    <div class="activity-box">
        <h1>[í™”ìì˜ ì •ì„œ íŒŒì•…] 'ë³„ í—¤ëŠ” ë°¤'ì˜ ê°ì • ë°”ì½”ë“œ ë§Œë“¤ê¸°</h1>
        
        <div class="instruction-box">
            <h2>í™œë™ ë°©ë²• ì•ˆë‚´</h2>
            <p>ì´ í™œë™ì€ ì‹œì˜ ì •ì„œì  íë¦„ì„ ì‹œê°ì ìœ¼ë¡œ íŒŒì•…í•˜ëŠ” ë° ëª©ì ì´ ìˆìŠµë‹ˆë‹¤. ì‹œë¥¼ 5ê°€ì§€ êµ¬ê°„ìœ¼ë¡œ ë‚˜ëˆ„ì—ˆìŠµë‹ˆë‹¤.</p>
            <ol>
                <li>ì˜¤ë¥¸ìª½ì˜ ì‹œ ì „ë¬¸ì„ ì½ê³ , ê° êµ¬ê°„ë³„ë¡œ í™”ìì—ê²Œì„œ ê°€ì¥ ì§€ë°°ì ìœ¼ë¡œ ëŠê»´ì§€ëŠ” ì •ì„œë¥¼ ì„ íƒ ìƒì(ë“œë¡­ë‹¤ìš´)ì—ì„œ ê³ ë¦…ë‹ˆë‹¤.</li>
                <li>5ê°œ êµ¬ê°„ì˜ ì„ íƒì„ ëª¨ë‘ ë§ˆì¹œ í›„, ê°ì • ë°”ì½”ë“œ ìƒì„± ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤.</li>
                <li>í™”ë©´ í•˜ë‹¨ì— ìƒì„±ëœ ìƒ‰ê¹” ë§‰ëŒ€(ë°”ì½”ë“œ)ë¥¼ ë³´ê³ , ì •ì„œê°€ ê³ ì¡°ë˜ê±°ë‚˜ ë³€í™”í•˜ëŠ” ì–‘ìƒì„ ë¶„ì„í•´ ë³´ì„¸ìš”.</li>
                <li>ìƒì„±ëœ ë°”ì½”ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¬í™” í™œë™(ì„±ì°°)ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</li>
            </ol>
            <p style="font-weight: bold;">(ì°¸ê³ : ìƒ‰ê¹”ì€ ì •ì„œì˜ ì¢…ë¥˜ë¥¼ ìƒì§•í•˜ë©°, ì •ì„œì˜ ë³€í™”ëŠ” ìƒ‰ê¹”ì˜ ë³€í™”ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.)</p>
        </div>
        <h2>í™œë™ ì˜ì—­</h2>

        <div class="stanza-item">
            <pre>ê³„ì ˆì´ ì§€ë‚˜ê°€ëŠ” í•˜ëŠ˜ì—ëŠ”
ê°€ì„ë¡œ ê°€ë“ ì°¨ ìˆìŠµë‹ˆë‹¤.</pre>
            <select class="emotion-select" id="emotion1">
                <option value="none">ì •ì„œ ì„ íƒ</option>
                <option value="loneliness">ì“¸ì“¸í•¨</option>
                <option value="calmness">ê³ ìš”í•¨/í‰ì˜¨í•¨</option>
                <option value="nostalgia">ê·¸ë¦¬ì›€</option>
                <option value="anxiety">ë¶ˆì•ˆ</option>
            </select>
        </div>

        <div class="stanza-item">
            <pre>ë‚˜ëŠ” ì•„ë¬´ ê±±ì •ë„ ì—†ì´
ê°€ì„ ì†ì˜ ë³„ë“¤ì„ ë‹¤ í—¤ì¼ ë“¯í•©ë‹ˆë‹¤.
ê°€ìŠ´ ì†ì— í•˜ë‚˜ ë‘˜ ìƒˆê²¨ì§€ëŠ” ë³„ì„...</pre>
            <select class="emotion-select" id="emotion2">
                <option value="none">ì •ì„œ ì„ íƒ</option>
                <option value="loneliness">ì“¸ì“¸í•¨</option>
                <option value="calmness">ê³ ìš”í•¨/í‰ì˜¨í•¨</option>
                <option value="nostalgia">ê·¸ë¦¬ì›€</option>
                <option value="longing">ë™ê²½</option>
            </select>
        </div>

        <div class="stanza-item">
            <pre>ë³„ í•˜ë‚˜ì— ì¶”ì–µê³¼... ë³„ í•˜ë‚˜ì— ì–´ë¨¸ë‹ˆ, ì–´ë¨¸ë‹ˆ,
ì–´ë¨¸ë‹˜, ë‚˜ëŠ” ë³„ í•˜ë‚˜ì— ì•„ë¦„ë‹¤ìš´ ë§ í•œ ë§ˆë””ì”© ë¶ˆëŸ¬ ë´…ë‹ˆë‹¤.
ì´ë„¤ë“¤ì€ ë„ˆë¬´ë‚˜ ë©€ë¦¬ ìˆìŠµë‹ˆë‹¤. ... ê·¸ë¦¬ê³  ë‹¹ì‹ ì€ ë©€ë¦¬ ë¶ê°„ë„ì— ê³„ì‹­ë‹ˆë‹¤.</pre>
            <select class="emotion-select" id="emotion3">
                <option value="none">ì •ì„œ ì„ íƒ</option>
                <option value="nostalgia">ê·¸ë¦¬ì›€</option>
                <option value="longing">ë™ê²½</option>
                <option value="loneliness">ì“¸ì“¸í•¨/ë‹¨ì ˆê°</option>
                <option value="guilt">ë¶€ë„ëŸ¬ì›€</option>
            </select>
        </div>

        <div class="stanza-item">
            <pre>ë‚˜ëŠ” ë¬´ì—‡ì¸ì§€ ê·¸ë¦¬ì›Œ
ì´ ë§ì€ ë³„ë¹›ì´ ë‚´ë¦° ì–¸ë• ìœ„ì—
ë‚´ ì´ë¦„ìë¥¼ ì¨ ë³´ê³ , í™ìœ¼ë¡œ ë®ì–´ ë²„ë¦¬ì—ˆìŠµë‹ˆë‹¤.
ë”´ì€ ë°¤ì„ ìƒˆì›Œ ìš°ëŠ” ë²Œë ˆëŠ” ë¶€ë„ëŸ¬ìš´ ì´ë¦„ì„ ìŠ¬í¼í•˜ëŠ” ê¹Œë‹­ì…ë‹ˆë‹¤.</pre>
            <select class="emotion-select" id="emotion4">
                <option value="none">ì •ì„œ ì„ íƒ</option>
                <option value="guilt">ë¶€ë„ëŸ¬ì›€/ìì±…</option>
                <option value="nostalgia">ê·¸ë¦¬ì›€</option>
                <option value="hope">í¬ë§</option>
                <option value="despair">ì ˆë§</option>
            </select>
        </div>

        <div class="stanza-item">
            <pre>ê·¸ëŸ¬ë‚˜ ê²¨ìš¸ì´ ì§€ë‚˜ê³  ë‚˜ì˜ ë³„ì—ë„ ë´„ì´ ì˜¤ë©´
ë¬´ë¤ ìœ„ì— íŒŒë€ ì”ë””ê°€ í”¼ì–´ë‚˜ë“¯ì´
ë‚´ ì´ë¦„ì ë¬»íŒ ì–¸ë• ìœ„ì—ë„ ìë‘ì²˜ëŸ¼ í’€ì´ ë¬´ì„±í•  ê±°ì™¸ë‹¤.</pre>
            <select class="emotion-select" id="emotion5">
                <option value="none">ì •ì„œ ì„ íƒ</option>
                <option value="guilt">ë¶€ë„ëŸ¬ì›€</option>
                <option value="despair">ì ˆë§</option>
                <option value="hope">í¬ë§/ì˜ì§€</option>
                <option value="satisfaction">ë§Œì¡±ê°</option>
            </select>
        </div>

        <div class="action-area">
            <button onclick="generateBarcode()">ê°ì • ë°”ì½”ë“œ ìƒì„± ë° ë¶„ì„</button>
        </div>

        <h2>ë‚˜ì˜ ê°ì • ë°”ì½”ë“œ</h2>
        <div id="barcodeDisplay">
            ê° êµ¬ê°„ë³„ ì„ íƒí•œ ì •ì„œê°€ ìƒ‰ê¹” ë§‰ëŒ€ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
        </div>
        
       <div id="reflection">
            <h2>AI í™œìš© ì‹¬í™” ë¶„ì„ ìš”ì²­</h2>
            <p>ìƒì„±ëœ ê°ì • ë°”ì½”ë“œì˜ ë³€í™”ë¥¼ ë³´ê³ , í™”ìì˜ ì •ì„œê°€ ì™œ ê·¸ë ‡ê²Œ ë³€í™”í–ˆëŠ”ì§€ AIì—ê²Œ ì§ˆë¬¸í•´ ë³´ì„¸ìš”.</p>
            
            <label for="deepAnalysisInput" style="font-weight: bold;">AIì—ê²Œ ì§ˆë¬¸ ì…ë ¥:</label>
            <textarea id="deepAnalysisInput" placeholder="ì˜ˆì‹œ: ê°ì • ë°”ì½”ë“œì˜ ìƒ‰ì´ 4êµ¬ê°„ì—ì„œ ê¸‰ê²©íˆ ì–´ë‘ì›Œì¡ŒëŠ”ë°, ì´ ì‹œê¸°ì— í™”ìê°€ ê²ªì—ˆì„ ì‹¬ë¦¬ì  ê³ ë‡ŒëŠ” ë¬´ì—‡ì¼ê¹Œìš”?" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; resize: vertical; min-height: 80px;"></textarea>
            
            <button onclick="requestDeepAnalysis()" style="padding: 10px 20px; background-color: #f0ad4e; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 10px;">AI ë¶„ì„ ìš”ì²­</button>

            <div id="deepAnalysisOutput" style="margin-top: 20px; padding: 15px; border: 1px solid #f0ad4e; background-color: #fff8e1; border-radius: 4px; min-height: 50px; text-align: left;">
                <p>ğŸ’¡ AIì˜ ì‹¬ì¸µ ë¶„ì„ ë‹µë³€ì´ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
            </div>
        </div>
    
    <script>
        // ì •ì„œì— ë”°ë¥¸ ìƒ‰ìƒ ë§¤í•‘
        const emotionMap = {
            'loneliness': { color: '#808080', text: 'ì“¸ì“¸í•¨' },
            'calmness': { color: '#a8dadc', text: 'ê³ ìš”í•¨' },
            'nostalgia': { color: '#1d3557', text: 'ê·¸ë¦¬ì›€' },
            'longing': { color: '#f0ad4e', text: 'ë™ê²½' },
            'anxiety': { color: '#ff6347', text: 'ë¶ˆì•ˆ' },
            'guilt': { color: '#457b9d', text: 'ë¶€ë„ëŸ¬ì›€' },
            'despair': { color: '#dc3545', text: 'ì ˆë§' },
            'hope': { color: '#4CAF50', text: 'í¬ë§/ì˜ì§€' },
            'satisfaction': { color: '#6c757d', text: 'ë§Œì¡±ê°' },
            'none': { color: '#f0f0f0', text: 'ì„ íƒ ì•ˆ í•¨' }
        };

        function generateBarcode() {
            const display = document.getElementById('barcodeDisplay');
            display.innerHTML = '';
            let allSelected = true;

            for (let i = 1; i <= 5; i++) {
                const select = document.getElementById(`emotion${i}`);
                const emotionKey = select.value;

                if (emotionKey === 'none') {
                    allSelected = false;
                    break;
                }

                const map = emotionMap[emotionKey];
                const segment = document.createElement('div');
                segment.className = 'barcode-segment';
                segment.style.backgroundColor = map.color;
                
                // ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ì •ì„œ ì´ë¦„ í‘œì‹œ
                segment.title = `êµ¬ê°„ ${i}: ${map.text}`; 
                segment.textContent = `êµ¬ê°„ ${i}`;

                display.appendChild(segment);
            }

            if (!allSelected) {
                display.innerHTML = '<div style="color: red; padding: 20px;">ğŸš¨ ëª¨ë“  êµ¬ê°„ì˜ ì •ì„œë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>';
            }
        }
function requestDeepAnalysis() {
            const input = document.getElementById('deepAnalysisInput').value.trim();
            const output = document.getElementById('deepAnalysisOutput');
            
            if (input.length < 15) {
                output.innerHTML = '<p style="color: red; font-weight: bold;">ğŸš¨ ì§ˆë¬¸ì„ êµ¬ì²´ì ìœ¼ë¡œ 15ì ì´ìƒ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>';
                return;
            }
            
            // AI ì‹œë®¬ë ˆì´ì…˜ ì‘ë‹µ (ì§ˆë¬¸ì— ê´€ê³„ì—†ì´ ì¼ê´€ëœ ë¶„ì„ íŒ¨í„´ ì œì‹œ)
            const analysis = 
                "í•™ìƒì˜ ì§ˆë¬¸ì— ëŒ€í•œ ì‹¬ì¸µ ë¶„ì„ì…ë‹ˆë‹¤. ê°ì • ë°”ì½”ë“œì˜ ë³€í™”ëŠ” í™”ìì˜ ì •ì„œì  ì—¬ì •ì„ ëª…í™•íˆ ë³´ì—¬ì¤ë‹ˆë‹¤. \n\n" +
                "1. **ì‹œê°ì  ì •ì„œì˜ ë³€í™”:** ë°”ì½”ë“œì˜ ìƒ‰ê¹” ë³€í™”ëŠ” ì‹œì—ì„œ ë“œëŸ¬ë‚˜ëŠ” ê³ ìš”í•¨(ê°€ì„)ì—ì„œ ë¶€ë„ëŸ¬ì›€/ìì±…(í™ìœ¼ë¡œ ë®ëŠ” í–‰ìœ„)ìœ¼ë¡œì˜ ê°ì •ì˜ í•˜ê°•ê³¼, ë§ˆì§€ë§‰ í¬ë§(ë´„)ìœ¼ë¡œì˜ ìƒìŠ¹ì„ ì‹œê°ì ìœ¼ë¡œ ì¦ëª…í•©ë‹ˆë‹¤. \n\n" +
                "2. **AIì˜ ë¬¸í•™ì  ê·¼ê±°:** AIëŠ” í™”ìì˜ ì´ë¦„ìë¥¼ ë®ëŠ” í–‰ìœ„ë¥¼ 'ì¼ì œê°•ì ê¸° ì§€ì‹ì¸ì˜ ìì•„ ë¶„ì—´ê³¼ ìê¸° ë¶€ì¸'ìœ¼ë¡œ ë¶„ì„í•˜ë©°, ì´ëŠ” ê¹Šì€ ì¢Œì ˆê°ì˜ í‘œì¶œì´ë¼ê³  ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
            
            output.innerHTML = `<p style="color: #1e88e5; font-weight: bold;">[AI ì‹¬ì¸µ ë¶„ì„ ê²°ê³¼]</p><p>${analysis}</p>`;
        }
    </script>
</body>
</html>